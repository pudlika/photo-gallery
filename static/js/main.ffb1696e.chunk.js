(this["webpackJsonpphoto-gallery"]=this["webpackJsonpphoto-gallery"]||[]).push([[0],{136:function(e,t,a){},137:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(7),i=a.n(s),l=(a(71),a(23)),c=a(24),o=a(18),h=a(27),u=a(25),d=a(174),m=a(173),b=a(58),g=a.n(b),y=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),n=t.call(this),console.log(e),n.state={imgSrc:e.imgSrc,alt:e.imgAlt},n}return Object(c.a)(a,[{key:"render",value:function(){var e=null!=this.state?this.state.imgSrc:"./image-placeholder.png";return r.a.createElement("img",{src:e,alt:this.state.alt,width:"350",className:"imageThumb"})}}]),a}(r.a.Component),p=a(172),v=a(171),H=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),n=t.call(this),console.log("search Input component initializing"),console.log(e),n.state={searchDynamically:e.searchDynamically,isHintVisible:e.isHintVisible,buttonSubmittedHandler:e.buttonSubmittedHandler,searchInputHandler:e.searchInputHandler},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return console.log("search Input component rerendered"),console.log(this.state),r.a.createElement("div",{className:"inputContainer"},r.a.createElement(p.a,{label:"Search for photos",margin:"dense",variant:"outlined",onChange:function(t){return e.state.searchInputHandler(t)}}),!this.state.searchDynamically&&r.a.createElement(v.a,{variant:"contained",size:"medium",color:"primary",onClick:function(t){return e.state.buttonSubmittedHandler(t)}},"Search"),r.a.createElement("label",{id:"hint",className:this.state.isHintVisible?"hint ":"hint hidden"},"hit the button to run the searching"))}}]),a}(r.a.Component),E=(a(136),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isLoaded:!1,searchedPhrase:"",allImgs:[],wasError:!1,testData:null,isHintVisible:!1,searchDynamically:!0,apiUrl:"https://api.unsplash.com/search/photos?client_id=LiGO4cdLZe7UYuHpFLWU5DTKdIUYIhNdNuenXH9rHjI&query="},e.searchInputHandler=e.searchInputHandler.bind(Object(o.a)(e)),e.searchForPhotos=e.searchForPhotos.bind(Object(o.a)(e)),e.searchDynamicallyChangeHandler=e.searchDynamicallyChangeHandler.bind(Object(o.a)(e)),e.searchForPhotos=e.searchForPhotos.bind(Object(o.a)(e)),e.buttonSubmittedHandler=e.buttonSubmittedHandler.bind(Object(o.a)(e)),e}return Object(c.a)(a,[{key:"searchDynamicallyChangeHandler",value:function(e){console.log("checkbox selection changed to: "+e.target.checked),this.setState({searchDynamically:e.target.checked,isHintVisible:!1})}},{key:"componentDidMount",value:function(){this.setState({isLoaded:!1,wasError:!1}),this.searchForPhotos("lion")}},{key:"searchInputHandler",value:function(e){var t=e.target.value;this.setState({searchedPhrase:t}),console.log("searchedPhrase: "+e.target.value+";"+this.state.searchedPhrase+" phrase: "+t),console.log(this.state),this.state.searchDynamically?(this.setState({isLoaded:!1,wasError:!1,searchedPhrase:t}),this.searchForPhotos(t)):this.setState({isHintVisible:!0})}},{key:"searchForPhotos",value:function(e){var t=this;fetch(this.state.apiUrl+e).then((function(e){return e.json()})).then((function(e){var a,n=(a=e.results).length>0?a[0].urls.small:"./image-big.png";t.setState({isLoaded:!0,testData:n,allImgs:a})}),(function(e){t.setState({isLoaded:!0,testData:"./image-big.png",wasError:!0})})).catch((function(e){return console.log(e)}))}},{key:"buttonSubmittedHandler",value:function(e){console.log("button submitted"),console.log("searchedPhrase: "+this.state.searchedPhrase),this.setState({isLoaded:!1,wasError:!1}),this.searchForPhotos(this.state.searchedPhrase)}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("header",{className:"App-header"},r.a.createElement("label",{id:"mainLabel"},"Photo gallery"),r.a.createElement(d.a,{control:r.a.createElement(m.a,{checked:this.state.searchDynamically,onChange:this.searchDynamicallyChangeHandler,color:"primary"}),label:"search dynamically"})),r.a.createElement(H,{key:this.state.searchDynamically,searchDynamically:this.state.searchDynamically,isHintVisible:this.state.isHintVisible,buttonSubmittedHandler:this.buttonSubmittedHandler,searchInputHandler:this.searchInputHandler}),r.a.createElement("div",{className:"App"},!this.state.isLoaded&&r.a.createElement("label",null,"Loading..."),!this.state.wasError&&this.state.isLoaded&&r.a.createElement("div",null,r.a.createElement(g.a,{columnWidth:355},this.state.allImgs.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(y,{imgSrc:e.urls.small,imgAlt:""}))})))),this.state.wasError&&r.a.createElement("div",null,r.a.createElement("label",null,"Sorry, an error appear "),r.a.createElement(y,{imgSrc:this.state.testData,imgAlt:""}))))}}]),a}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},66:function(e,t,a){e.exports=a(137)},71:function(e,t,a){}},[[66,1,2]]]);
//# sourceMappingURL=main.ffb1696e.chunk.js.map